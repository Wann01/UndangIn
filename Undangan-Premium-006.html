<!DOCTYPE html>
<html class="no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Undangan Pernikahan Ahmad & Siti</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Undangan Pernikahan Ahmad & Siti" />
	<meta name="keywords" content="wedding, wedding invitation, invitation" />
	<meta name="author" content="Ahmad & Siti" />

	<!-- Facebook and Twitter integration -->
	<meta property="og:type" content="website">
	<meta property="og:title" content="Undangan Pernikahan Ahmad & Siti"/>
	<meta property="og:image" content="images/readme/half%20circle-200.png"/>
	<meta property="og:url" content=""/>
	<meta property="og:site_name" content="Undangan Pernikahan Ahmad & Siti"/>
	<meta property="og:description" content="Undangan Pernikahan Ahmad & Siti"/>

	<link rel="icon" href="images/readme/half%20circle-200.png">

	<!-- Google Fonts -->
	<link href='https://fonts.googleapis.com/css?family=Didact+Gothic' rel='stylesheet' type='text/css'>
	<link href="https://fonts.googleapis.com/css?family=Sacramento" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Estonia" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Oswald" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Dancing+Script" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Satisfy" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Merriweather" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Courgette" rel="stylesheet">

	<!-- CSS -->
	<link rel="stylesheet" href="css/animate.css">
	<link rel="stylesheet" href="css/icomoon.css">
	<link rel="stylesheet" href="css/bootstrap.css">
	<link rel="stylesheet" href="css/magnific-popup.css">
	<link rel="stylesheet" href="css/owl.carousel.min.css">
	<link rel="stylesheet" href="css/owl.theme.default.min.css">
	<link rel="stylesheet" href="lib/lightgallery.js/dist/css/lightgallery-bundle.min.css" />
	<link rel="stylesheet" href="lib/lightgallery.js/dist/css/lg-thumbnail.css" />
	<link rel="stylesheet" href="lib/lightgallery.js/dist/css/lg-autoplay.css" />
	<link rel="stylesheet" href="lib/lightgallery.js/dist/css/lg-fullscreen.css" />
	<link rel="stylesheet" href="lib/lightgallery.js/dist/css/lg-transitions.css" />
	<link rel="stylesheet" href="css/style.css">

	<!-- Modernizr JS -->
	<script src="js/modernizr-2.6.2.min.js"></script>
	<!--[if lt IE 9]>
	<script src="js/respond.min.js"></script>
	<![endif]-->
</head>
<body>

<div class="fh5co-loader"></div>

<div id="page">
	<!-- Overlay Pembuka -->
	<div id="overlay">
		<div class="content">
			<div class="container">
				<div class="col-md-8 col-md-offset-2 text-center fh5co-heading animate-box">
					<h2 style="color:white;">The Wedding Of</h2>
				</div>
				<div class="row">
					<div class="col-md-8 col-md-offset-2 text-center fh5co-heading animate-box">
						<h1 style="font-size:30px">Ahmad & Siti</h1>
					</div>
				</div>
				<div class="row">
					<div class="col-md-8 col-md-offset-2 text-center fh5co-heading animate-box fadeInUp animated-fast">
						<img src="images/half%20circle%20flower-500.png" alt="" class="couple-main">
					</div>
				</div>
				<div class="row">
					<div class="col-md-8 col-md-offset-2 text-center fh5co-heading animate-box">
						<p style="margin-bottom: 0">Kepada Bapak/Ibu/Saudara/i</p>
						<p id="guest-name" style="color:gold">Nama Tamu</p>
						<button class="btn btn-primary" id="open-invitation">Buka Undangan</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Header Utama -->
	<div id="fh5co-header">
		<div class="container">
			<img class="flower-1" style="position: absolute; right: 0; top: 0" src="images/background/flowers/top-right-1.svg">
			<img class="flower-1" style="position: absolute; left: -25px; top:0" src="images/background/flowers/top-left-1.svg">
			<div class="row">
				<div class="col-md-8 col-md-offset-2 text-center fh5co-heading animate-box">
					<img src="images/half%20circle%20flower-500.png" alt="" class="couple-main">
				</div>
			</div>
			<div class="row">
				<div class="col-md-8 col-md-offset-2 text-center fh5co-heading animate-box">
					<h1>Ahmad & Siti</h1>
					<h3 style="color: #bf9b73">24 Desember 2025</h3>
					<div class="simply-countdown simply-countdown-wedding"></div>
				</div>
			</div>
		</div>
	</div>

	<!-- Bagian Pasangan -->
	<div id="fh5co-couple" style="background: url('images/background/repeat-background/so-white.png'); background-repeat:repeat ">
		<div class="container">
			<img class="flower-2-right" style="position: absolute;" src="images/background/flowers/right-1.svg">
			<img class="flower-2-left" style="position: absolute;" src="images/background/flowers/left-1.svg">
			<div class="row">
				<div class="col-md-8 col-md-offset-2 text-center fh5co-heading animate-box">
					<img src="images/bismillah.svg" alt="" style="margin-bottom: 20px">
					<h2>Assalamu'alaikum Wr. Wb.</h2>
					<p style="color: #bf9b73">Tanpa mengurangi rasa hormat. Kami mengundang Bapak/Ibu/Saudara/i serta Kerabat sekalian untuk menghadiri acara pernikahan kami:</p>
				</div>
			</div>
			<div class="couple-wrap animate-box">
				<div class="couple-half">
					<div class="groom">
						<img src="images/molid-square.png" alt="groom" class="img-responsive">
					</div>
					<div class="desc-groom">
						<h3>Ahmad Fauzi</h3>
						<p><span style="color: #bf9b73">Putra Pertama dari</span><br>
							<span class="parents-font">Bapak Muhammad & Ibu Aisyah</span>
						</p>
					</div>
				</div>
				<p class="heart text-center"><i class="icon-heart2"></i></p>
				<div class="couple-half">
					<div class="bride">
						<img src="images/rehan-square.png" alt="groom" class="img-responsive">
					</div>
					<div class="desc-bride">
						<h3>Siti Rahmah</h3>
						<p><span style="color: #bf9b73">Putri Kedua dari</span><br>
							<span class="parents-font">Bapak Abdullah & Ibu Fatimah</span>
						</p>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Acara -->
	<div id="fh5co-event" class="fh5co-bg" style="border-top: 1px solid #f2f2f2">
		<div class="container">
			<div class="row">
				<div class="col-md-8 col-md-offset-2 text-center fh5co-heading animate-box">
					<h2>Save The Date</h2>
				</div>
			</div>
			<div class="row">
				<div class="col-md-10 col-md-offset-1">
					<div class="col-md-6 col-sm-6 text-center">
						<div class="event-wrap animate-box">
							<h3 style="font-family: 'Oswald', Arial, serif;">Akad Nikah</h3>
							<div class="event-col">
								<i class="icon-clock"></i>
								<span>09:00</span>
								<span>Selesai</span>
							</div>
							<div class="event-col">
								<i class="icon-calendar"></i>
								<span>Rabu</span>
								<span>24 Desember 2025</span>
							</div>
							<p style="font-family: 'Courgette', Arial, serif">Alamat :<br>Masjid Al-Falah, Jl. Kenangan No. 123, Kota</p>
							<button onclick="akadLocation()" class="btn btn-sm btn-primary">Lihat Lokasi</button>
						</div>
					</div>
					<div class="col-md-6 col-sm-6 text-center">
						<div class="event-wrap animate-box">
							<h3 style="font-family: 'Oswald', Arial, serif;">Resepsi</h3>
							<div class="event-col">
								<i class="icon-clock"></i>
								<span>11:00</span>
								<span>Selesai</span>
							</div>
							<div class="event-col">
								<i class="icon-calendar"></i>
								<span>Rabu</span>
								<span>24 Desember 2025</span>
							</div>
							<p style="font-family: 'Courgette', Arial, serif">Alamat :<br>Grand Ballroom Hotel, Jl. Bahagia No. 456, Kota</p>
							<button onclick="walimahLocation()" class="btn btn-sm btn-primary">Lihat Lokasi</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Galeri -->
	<div id="fh5co-gallery" style="background: url('images/background/repeat-background/so-white.png'); background-repeat:repeat ">
		<img class="flower-3-top" src="images/background/flowers/top-2.svg">
		<img class="flower-4-bottom" src="images/background/flowers/bottom-2.svg">

		<div class="container">
			<div class="row">
				<div class="col-md-8 col-md-offset-2 text-center fh5co-heading animate-box">
					<h2>Galeri Kami</h2>
				</div>
			</div>
			<div class="row row-bottom-padded-md animate-box">
				<div class="col-md-12">
					<div id="inline-gallery-container" class="inline-gallery-container" style="position: relative; height: 500px"></div>
				</div>
			</div>
		</div>
	</div>

	<!-- Ayat Al-Quran -->
	<div id="fh5co-ayat">
		<img height="400" width="100%" style="position: absolute; bottom: -175px" src="images/background/wave-down.svg">
		<div class="container">
			<div class="ayat-content animate-box">
				Dan di antara tanda-tanda kekuasaan-Nya lah Dia menciptakan untukmu istri-istri dari jenismu sendiri, supaya kamu cenderung dan merasa tenteram kepadanya, dan dijadikan-Nya diantaramu rasa kasih dan sayang. Sesungguhnya pada yang demikian itu benar-benar terdapat tanda-tanda bagi kaum yang berfikir.
				<br>
				<b>- Q.S Ar Rum : 21 -</b>
			</div>
		</div>
	</div>

	<!-- Kirim Hadiah -->
	<div id="fh5co-health-protocol">
	    <div class="container">
	        <div class="row animate-box">
	            <div class="col-md-8 col-md-offset-2 text-center fh5co-heading">
	                <h2>Kirim Hadiah</h2>
	                <p style="color: #bf9b73">Jika Anda ingin memberikan hadiah, berikut beberapa opsi transfer yang tersedia:</p>
	            </div>

	            <div class="col-md-8 col-md-offset-2 text-center">
	                <div class="row">
	                    <div class="col-md-6 col-xs-6">
	                        <div class="item-protocol">
	                            <div class="icon">
	                                <img style="padding: 10px" height="90px" width="90px" src="images/bank-icon.png" alt="Bank Transfer"/>
	                            </div>
	                            <div class="description">
	                                <h3>Transfer Bank</h3>
	                                <p>
	                                    <b>Bank BCA</b><br>
	                                    123 456 7890<br>
	                                    a/n Ahmad Fauzi<br>
	                                </p>
	                                <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=BCA%20123 456 7890%20Ahmad" alt="QR Code BCA" width="150" style="margin: 5px 0">
	                            </div>
	                        </div>
	                    </div>
	                    <div class="col-md-6 col-xs-6">
	                        <div class="item-protocol">
	                            <div class="icon">
	                                <img style="padding: 10px" height="90px" width="90px" src="images/ewallet-icon.png" alt="E-Wallet"/>
	                            </div>
	                            <div class="description">
	                                <h3>E-Wallet</h3>
	                                <p>
	                                    <b>DANA</b><br>
	                                    0812 3456 7890<br>
	                                    a/n Ahmad Fauzi<br>
	                                </p>
	                                <img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=DANA%200812 3456 7890%20Ahmad" alt="QR Code DANA" width="150" style="margin: 5px 0">
	                            </div>
	                        </div>
	                    </div>
	                </div>
	                <p style="color: #bf9b73; margin-top: 20px">Terima kasih atas doa dan hadiah yang diberikan. Semoga menjadi berkah untuk kami berdua.</p>
	            </div>
	        </div>
	    </div>
	</div>

	<!-- Section 5: Guest Messages (Komentar) -->
	<div id="fh5co-testimonial" style="background: url('images/background/repeat-background/so-white.png'); background-repeat:repeat; border-top: 1px solid #f2f2f2">
	    <div class="container">
	        <div class="row animate-box">
	            <div class="col-md-8 col-md-offset-2 text-center fh5co-heading">
	                <h2><i class="icon-comments"></i> Ucapan & Doa</h2>
	                <span style="color: #bf9b73">Doa Restu Anda merupakan karunia yang sangat berarti bagi kami.</span>
	            </div>
	        </div>

	        <!-- Form Ucapan -->
	        <div class="row animate-box">
	            <div class="col-md-8 col-md-offset-2">
	                <div class="message-form">
	                    <form id="commentForm">
	                        <div class="form-group">
	                            <label for="name">Nama</label>
	                            <input type="text" id="name" class="form-control" required placeholder="Masukkan nama Anda">
	                        </div>
	                        
	                        <div class="form-group">
	                            <label for="attendance">Konfirmasi Kehadiran</label>
	                            <select id="attendance" class="form-control" required>
	                                <option value="hadir">Saya berencana hadir</option>
	                                <option value="tidak">Maaf saya tidak bisa hadir</option>
	                            </select>
	                        </div>
	                        
	                        <div class="form-group">
	                            <label for="comment">Pesan</label>
	                            <textarea id="comment" class="form-control" required placeholder="Tulis ucapan dan doa untuk mempelai..." rows="4"></textarea>
	                        </div>
							<div class="button-group text-center">
							    <button type="button" class="btn btn-default" id="stickerBtn">
							        <i class="icon-smile"></i> Tambah Stiker
							    </button>
							    <button type="submit" class="btn btn-primary">
							        <i class="icon-paper-plane"></i> Kirim Ucapan
							    </button>
							</div>
	                        <div class="notification" id="notification"></div>
	                        <div class="inline-stats">
							    <div class="stat">
							        <i class="icon-check"></i> <span id="attendingCount">0</span> hadir
							    </div>
							    <div class="stat">
							        <i class="icon-close"></i> <span id="notAttendingCount">0</span> tidak hadir
							    </div>
							    <div class="stat">
							        <i class="icon-comment"></i> <span id="totalComments">0</span> ucapan
							    </div>
							</div>
	                    </form>
	                </div>
	            </div>
	        </div>

	        <!-- Daftar Komentar -->
	        <div class="row animate-box">
	            <div class="col-md-8 col-md-offset-2">
	                <div class="comment-container">
	                    <div class="comment-list" id="commentList">
	                        <!-- Komentar akan muncul di sini -->
	                    </div>
	                </div>
	            </div>
	        </div>

	        <!-- Sticker Picker Modal -->
	        <div class="sticker-picker" id="stickerPicker">
	            <div class="sticker-container">
	                <span class="close-sticker" id="closeSticker">&times;</span>
	                <h3>Pilih Stiker</h3>
	                <div class="sticker-grid">
	                    <div class="sticker-item" data-sticker="❤️">❤️</div>
	                    <div class="sticker-item" data-sticker="😊">😊</div>
	                    <div class="sticker-item" data-sticker="🎉">🎉</div>
	                    <div class="sticker-item" data-sticker="💐">💐</div>
	                    <div class="sticker-item" data-sticker="🥂">🥂</div>
	                    <div class="sticker-item" data-sticker="✨">✨</div>
	                    <div class="sticker-item" data-sticker="🎊">🎊</div>
	                    <div class="sticker-item" data-sticker="💖">💖</div>
	                    <div class="sticker-item" data-sticker="👰">👰</div>
	                    <div class="sticker-item" data-sticker="🤵">🤵</div>
	                    <div class="sticker-item" data-sticker="💑">💑</div>
	                    <div class="sticker-item" data-sticker="🎁">🎁</div>
	                    <div class="sticker-item" data-sticker="🥳">🥳</div>
	                    <div class="sticker-item" data-sticker="🙏">🙏</div>
	                    <div class="sticker-item" data-sticker="😍">😍</div>
	                    <div class="sticker-item" data-sticker="💕">💕</div>
	                </div>
	            </div>
	        </div>
	    </div>
	</div>

	<!-- Footer -->
	<footer id="fh5co-footer" role="contentinfo" style="background: url('images/background/repeat-background/witewall_3.png'); background-repeat:repeat ">
		<div class="container">
			<img class="flower-1" style="position: absolute; right: 0; bottom: 0" src="images/background/flowers/bottom-right-1.svg">
			<img class="flower-1" style="position: absolute; left: 0; bottom:0" src="images/background/flowers/bottom-left-1.svg">
			<div class="row copyright animate-box">
				<div class="col-md-12 text-center">
					<p>
						Merupakan suatu kehormatan dan kebahagiaan bagi kami, apabila Bapak/Ibu/Saudara/i berkenan hadir dan memberikan doa restu.
						<br>Atas kehadiran dan doa restunya, kami mengucapkan terima kasih.
					<h3 style="color: #bf9b73">Wassalamu'alaikum Wr. Wb.</h3>
					Jazakumullahu Khairan
					</p>
					<img src="images/readme/half%20circle-200.png" width="100" height="100">
					<br>
					<h1 style="font-family: 'Satisfy', Arial, serif">Ahmad & Siti</h1>
				</div>
			</div>
		</div>
	</footer>
</div>

<script>
    // Konfigurasi Google Sheets API
    const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyMzxL3NTnOzChj9tvAmbfODgJQjBC_gM6nhOyxr4OLpz6JVWU5a5-keEy6SqG9ygM6iw/exec';

    // Fungsi untuk memuat komentar dari Google Sheets
    async function loadComments() {
        try {
            const response = await fetch(`${SCRIPT_URL}?t=${Date.now()}`);
            const result = await response.json();
            
            if (result.status === "success") {
                updateCommentList(result.comments);
                updateStats(result.comments);
            } else {
                throw new Error(result.message || 'Gagal memuat komentar');
            }
        } catch (error) {
            console.error('Error loading comments:', error);
            const commentList = document.getElementById('commentList');
            commentList.innerHTML = '<p style="text-align: center; color: #666;">Gagal memuat komentar. Silakan refresh halaman.</p>';
        }
    }

	// Fungsi untuk memperbarui daftar komentar
	function updateCommentList(comments) {
	    const commentList = document.getElementById('commentList');

	    if (comments.length === 0) {
	        commentList.innerHTML = '<p style="text-align: center; color: #666;">Belum ada ucapan. Jadilah yang pertama mengirimkan ucapan!</p>';
	        return;
	    }

	    commentList.innerHTML = '';

	    comments.forEach(comment => {
	        const commentItem = document.createElement('div');
	        commentItem.className = 'comment-item';

	        // Pastikan properti yang diakses sesuai dengan respons API
	        const name = comment.name || 'Tamu';
	        const text = comment.text || comment.comment || 'Tidak ada pesan';
	        const attendance = comment.attendance || 'hadir';
	        
	        const attendanceClass = attendance === 'hadir' ? 'hadir' : 'tidak';
	        const attendanceText = attendance === 'hadir' ? 'Hadir' : 'Tidak Hadir';

	        // Format tanggal yang lebih baik
	        const dateObj = new Date(comment.date);
	        const formattedDate = new Intl.DateTimeFormat('id-ID', {
	            timeZone: 'Asia/Makassar',
	            year: 'numeric',
	            month: 'long',
	            day: 'numeric',
	            hour: '2-digit',
	            minute: '2-digit',
	            second: '2-digit'
	        }).format(dateObj).replace('pukul', '').trim();

	        commentItem.innerHTML = `
	            <div class="comment-header">
	                <span class="comment-name">${name}</span>
	                <span class="comment-attendance ${attendanceClass}">${attendanceText}</span>
	            </div>
	            <p class="comment-text">${text}</p>
	            <div class="comment-date">${formattedDate}</div>
	        `;

	        commentList.appendChild(commentItem);
	    });
	}

    // Fungsi untuk memperbarui statistik
    function updateStats(comments) {
        const attendingCount = comments.filter(c => c.attendance === 'hadir').length;
        const notAttendingCount = comments.filter(c => c.attendance === 'tidak').length;
        const totalComments = comments.length;
        
        document.getElementById('attendingCount').textContent = attendingCount;
        document.getElementById('notAttendingCount').textContent = notAttendingCount;
        document.getElementById('totalComments').textContent = totalComments;
    }

    // Fungsi untuk mengirim komentar ke Google Sheets
    async function submitComment(name, attendance, comment) {
        try {
            const formData = new FormData();
            formData.append('name', name);
            formData.append('attendance', attendance);
            formData.append('comment', comment);
            
            const response = await fetch(SCRIPT_URL, {
                method: 'POST',
                body: formData
            });
            
            const result = await response.json();
            
            if (result.status === "success") {
                return { success: true };
            } else {
                throw new Error(result.message || 'Gagal menyimpan data');
            }
        } catch (error) {
            console.error('Error:', error);
            return { success: false, message: error.message };
        }
    }

    // Event listener untuk form submission
    document.addEventListener('DOMContentLoaded', function() {
        // Load komentar saat halaman dimuat
        loadComments();
        
        // Form submission
        document.getElementById('commentForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const name = document.getElementById('name').value.trim();
            const attendance = document.getElementById('attendance').value;
            const commentText = document.getElementById('comment').value.trim();
            const submitBtn = this.querySelector('button[type="submit"]');
            const notification = document.getElementById('notification');
            
            if (name && commentText) {
                try {
                    // Tampilkan loading
                    submitBtn.innerHTML = '';
                    submitBtn.classList.add('btn-loading');
                    submitBtn.disabled = true;
                    
                    // Kirim komentar
                    const result = await submitComment(name, attendance, commentText);
                    
                    if (result.success) {
                        // Reset form
                        this.reset();
                        
                        // Tampilkan notifikasi
                        notification.textContent = 'Ucapan Anda telah terkirim! Terima kasih.';
                        notification.style.display = 'block';
                        notification.style.backgroundColor = 'rgba(76, 175, 80, 0.1)';
                        notification.style.color = '#4CAF50';
                        notification.style.borderColor = '#4CAF50';
                        
                        // Reload komentar
                        loadComments();
                    } else {
                        throw new Error(result.message || 'Gagal mengirim ucapan');
                    }
                } catch (error) {
                    console.error('Error:', error);
                    notification.textContent = 'Gagal mengirim ucapan: ' + error.message;
                    notification.style.backgroundColor = 'rgba(244, 67, 54, 0.1)';
                    notification.style.color = '#F44336';
                    notification.style.borderColor = '#F44336';
                    notification.style.display = 'block';
                } finally {
                    // Kembalikan tombol ke keadaan semula
                    submitBtn.classList.remove('btn-loading');
                    submitBtn.innerHTML = '<i class="icon-paper-plane"></i> Kirim Ucapan';
                    submitBtn.disabled = false;
                    
                    // Sembunyikan notifikasi setelah 3 detik
                    setTimeout(() => {
                        notification.style.display = 'none';
                    }, 3000);
                }
            }
        });
        
        // Sticker picker functionality
        const stickerBtn = document.getElementById('stickerBtn');
        const stickerPicker = document.getElementById('stickerPicker');
        const closeSticker = document.getElementById('closeSticker');
        const stickerItems = document.querySelectorAll('.sticker-item');
        const commentField = document.getElementById('comment');
        
        stickerBtn.addEventListener('click', function() {
            stickerPicker.style.display = 'flex';
        });
        
        closeSticker.addEventListener('click', function() {
            stickerPicker.style.display = 'none';
        });
        
        stickerItems.forEach(item => {
            item.addEventListener('click', function() {
                const sticker = this.getAttribute('data-sticker');
                commentField.value += sticker;
                stickerPicker.style.display = 'none';
                commentField.focus();
            });
        });
        
        stickerPicker.addEventListener('click', function(e) {
            if (e.target === this) {
                this.style.display = 'none';
            }
        });
    });
</script>

<!-- JavaScript -->
<script src="js/jquery.min.js"></script>
<script src="js/jquery.easing.1.3.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.waypoints.min.js"></script>
<script src="js/owl.carousel.min.js"></script>
<script src="js/jquery.countTo.js"></script>
<script src="js/jquery.stellar.min.js"></script>
<script src="js/jquery.magnific-popup.min.js"></script>
<script src="js/magnific-popup-options.js"></script>
<script src="js/simplyCountdown.js"></script>
<script src="js/main.js"></script>
<script src="lib/lightgallery.js/dist/lightgallery.min.js"></script>
<script src="lib/lightgallery.js/dist/plugins/thumbnail/lg-thumbnail.min.js"></script>
<script src="lib/lightgallery.js/dist/plugins/autoplay/lg-autoplay.min.js"></script>
<script src="lib/lightgallery.js/dist/plugins/fullscreen/lg-fullscreen.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.0.3/showdown.min.js"></script>

<script>
	// Fungsi untuk mengambil parameter dari URL
	function getUrlParameter(name) {
		name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
		var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
		var results = regex.exec(location.search);
		return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
	}

	// Set nama tamu dari URL jika ada
	var guestName = getUrlParameter('nama');
	if(guestName) {
		document.getElementById('guest-name').innerHTML = "" + guestName + "";
	}

	// Hitung mundur
	day = 24; month = 12-1; year = 2025;
	hour = 09; minute = 0;
	var d = new Date(year, month, day, hour, minute, 0, 0);

	simplyCountdown('.simply-countdown-wedding', {
		year: d.getFullYear(),
		month: d.getMonth() + 1,
		day: d.getDate(),
		hour: d.getHours(),
		minutes: 0,
		seconds: 0,
		countUp: false
	});

	// Buka undangan
	$('#open-invitation').click(function (){
		$('#overlay').addClass('hide-overlay');
		playAudio1();
	});

	// Ambil ucapan dari GitHub
	$.get( "https://api.github.com/repos/ngodingsolusi/the-wedding-of-rehan-maulidan/issues?state=all&per_page", function( data ) {
		for (let i = 0; i < data.length; i++){
			const item = `
				<a class="list-group-item">
					<div class="name"><span class="strong" style="font-size: 24px">${data[i].user.login}</span> <span class="label label-success">${data[i].labels.length > 0 ? data[i].labels[0].name : 'Tanpa Keterangan'}</span></div>
					<hr style="margin-top: 0;">
					<div class="comment">${new showdown.Converter().makeHtml(data[i].body)}</div>
				</a>
			`;

			$("#fh5co-testimonial .list-group").append(item);
		}
	});

	// Fungsi scroll ke elemen
	function scrollToElement(el) {
		$("html, body").animate({ scrollTop: $(`#${el}`).offset().top }, 1000);
	}

	// Fungsi lokasi
	function akadLocation(){
		if( (navigator.platform.indexOf("iPhone") != -1)
				|| (navigator.platform.indexOf("iPod") != -1)
				|| (navigator.platform.indexOf("iPad") != -1))
			window.open("maps://www.google.com/maps?daddr=Masjid+Al-Falah,+Jl.+Kenangan+No.+123,+Kota");
		else
			window.open("https://www.google.com/maps?daddr=Masjid+Al-Falah,+Jl.+Kenangan+No.+123,+Kota");
	}

	function walimahLocation(){
		if( (navigator.platform.indexOf("iPhone") != -1)
				|| (navigator.platform.indexOf("iPod") != -1)
				|| (navigator.platform.indexOf("iPad") != -1))
			window.open("maps://www.google.com/maps?daddr=Grand+Ballroom+Hotel+Mewah,+Jl.+Bahagia+No.+456,+Kota");
		else
			window.open("https://www.google.com/maps?daddr=Grand+Ballroom+Hotel+Mewah,+Jl.+Bahagia+No.+456,+Kota");
	}
</script>

<!-- YouTube Audio Player -->
<script>
	var tag = document.createElement('script');
	tag.src = "https://www.youtube.com/iframe_api";
	var firstScriptTag = document.getElementsByTagName('script')[0];
	firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

	var player1;
	function onYouTubeIframeAPIReady() {
		var ctrlq1 = document.getElementById("youtube-audio1");
		ctrlq1.innerHTML = '<img id="youtube-icon1" src=""/><div id="youtube-player1"></div>';
		ctrlq1.style.cssText = 'width:20px;margin:0 auto;cursor:pointer;cursor:hand;display:none';
		ctrlq1.onclick = toggleAudio1;

		player1 = new YT.Player('youtube-player1', {
			height: '0',
			width: '0',
			videoId: ctrlq1.dataset.video,
			playerVars: {
				autoplay: ctrlq1.dataset.autoplay,
				loop: ctrlq1.dataset.loop,
			},
			events: {
				'onReady': onPlayerReady1,
				'onStateChange': onPlayerStateChange1
			}
		});
	}

	function togglePlayButton1(play) {
		document.getElementById("youtube-icon1").src = play ? "images/audio/pause.png" : "images/audio/play.png";
	}

	function toggleAudio1() {
		if ( player1.getPlayerState() == 1 || player1.getPlayerState() == 3 ) {
			player1.pauseVideo();
			togglePlayButton1(false);
		} else {
			player1.playVideo();
			togglePlayButton1(true);
		}
	}

	function playAudio1() {
		if ( !(player1.getPlayerState() == 1 || player1.getPlayerState() == 3) ) {
			player1.playVideo();
			togglePlayButton1(true);
		}
	}

	function onPlayerReady1(event) {
		player1.setPlaybackQuality("small");
		document.getElementById("youtube-audio1").style.display = "block";
		togglePlayButton1(player1.getPlayerState() !== 5);
	}

	function onPlayerStateChange1(event) {
		if (event.data === 0) {
			togglePlayButton1(false);
		}
	}
</script>

<!-- Light Gallery -->
<script type="text/javascript">
	const lgContainer = document.getElementById('inline-gallery-container');
	const inlineGallery = lightGallery(lgContainer, {
		container: lgContainer,
		dynamic: true,
		thumbnail : true,
		hash: false,
		closable: false,
		showMaximizeIcon: true,
		download : false,
		appendSubHtmlTo: '.lg-item',
		slideDelay: 400,
		dynamicEl: [
			{
				src: 'images/gallery/ini1.png',
				thumb: 'images/gallery/ini1.png',
			},{
				src: 'images/gallery/ini2.png',
				thumb: 'images/gallery/ini2.png',
			},{
				src: 'images/gallery/ini3.png',
				thumb: 'images/gallery/ini3.png',
			},{
				src: 'images/gallery/ini4.png',
				thumb: 'images/gallery/ini4.png',
			},{
				src: 'images/gallery/ini5.png',
				thumb: 'images/gallery/ini5.png',
			}
		],
	});

	inlineGallery.openGallery();
</script>

</body>
</html>